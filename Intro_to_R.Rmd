---
title: "Intro to R"
author: "Sean Raleigh"
output: html_document
---

Welcome to R! This document will walk you through some basic functions in R that you need to know to get started.

## How these assignments work

In the first assignment on getting to know R Markdown, you were provided with a PDF and asked to type things into a new R Markdown file. From here on out, I will be giving you the R Markdown file and asking you to modify it in various places.

Sometimes you will be asked to add your own R code. That will appear in this document as a code chunk with a request for you to add your own code, like so:

```{r}
## Add code here to [do some task]...
```

When you see that in a code chunk, you need to type some R code to complete a task.

Sometimes you will be asked to type up your thoughts. Instructions to do that will be labeled as follows. If you are currently reading this in the knit output, please look back at the R Markdown file to see the following text:

<!-- Please write up your answer in the space below -->

(When you knit the document, you can't see the text from the line above. That's because the crazy notation surrounding that text is an HTML comment, and therefore doesn't appear in the output.) In these areas of the assignment, please use full sentences and proper spelling, grammar, punctuation, etc. This is not R code, but rather a free response section where you talk about your analysis and conclusions.

##  Getting started

### Make sure you're in a project

In the introduction to R Markdown, you were taught how to start a new project in RStudio. If you're looking at this document, you should have already created a project and uploaded this R Markdown file to that project folder.

### Save your file!

The first thing we **always** do is save our file. You'll probably want to save this under a new name. Go to the "File" menu and then "Save As". Once you've saved the file with the new name, from them on it's easier to just hit Ctrl-S (or Cmd-S on a Mac) to keep saving it periodically. 

Remember that file names should not have any spaces in them. (In fact, you should avoid other kinds of special characters as well, like periods, commas, number signs, etc. Stick to letters and numerals and you should be just fine.) If you want a multiword file name, I recommend using underscores like this: `this_filename_has_spaces_in_it`.

### Load Packages

Packages are sets of commands and functions that people all over the world write. These packages extend the capabilities of R and add useful tools. The following code chunk will load the `mosaic` package that you installed previously and an additional package `MASS` that comes prepackaged with R. We'll need the `MASS` packages because it includes an interesting data set on risk factors associated with low infant birth weight.

```{r, message=FALSE}
library(mosaic)
library(MASS)
```

## Exploring data

Let's look at the birth weight data. You'll need to type `library(MASS)` in the Console to load the MASS package into your current R session. (If you're looking at the R Markdown document right now, you'll see the command enclosed in backticks. Don't type the backticks into the console, just the library command. The backticks are just for formatting the knit output. Also note: it's not enough that the library command already appears in this R Markdown document a few lines up. That only loads the package for purposes of knitting the R Markdown document. If you want to do anything in RStudio, you have to type the command yourself in the Console.)

Now type `?birthwt` in the Console to get the help file for the birth weight data. Take a moment to familiarize yourself with the variables.

Finally, you should type `View(birthwt)` in the Console to get a "spreadsheet" view of the data. (Don't forget that the `View` command has an uppercase V.)

### Rows and columns

We are probably interested in the number of cases in our data (also called the "sample size").

```{r}
nrow(birthwt)
```

(Ignore the `[1]` that appears before the number 189. That is just silly R saying that the answer consists of a single number, which it numbers as `[1]`.)

We can also do something similar for the number of variables in the data set, although this is usually a less important question than the sample size.

```{r}
ncol(birthwt)
```

It might be simpler just to look at both at the same time.

```{r}
dim(birthwt)
```

The only disadvantage here is that you need to remember that the "dimensions" of the data frame list the number of rows first, and then the number of columns.

### Heads and tails

We can now talk about ways to see pieces of the data right here in the R Markdown file. The `head` command shows the first six rows of the dataset.

```{r}
head(birthwt)
```

Remember that you will need to knit the document to see the result of doing this. (As I mentioned in the previous assignment, I would knit to HTML while you are working on the document, and only knit to PDF when you are completely finished and ready to turn in the final product.)

Verify that these really are the first six rows by looking at the spreadsheet version that resulted from the `View` command you typed earlier.

If you want to see more/fewer rows, you can change this:

```{r}
head(birthwt, n = 10)
```

Now you try:

```{r}
## Add code here to show only the first three cases of the dataset. 

```

Now experiment with the `tail` command.

```{r}
## Try figuring out how to use the tail command. Verify that it works as expected by comparing your output in the knit document to the spreadsheet View.

```

### Random cases

What if we want to look at a random set of rows. Try this:

```{r}
sample(birthwt, size = 5)
```

(Note that there are two versions of the `sample` command, one in base R and one in the `mosaic` package. Because we have recently loaded the `mosaic` package, the version of `sample` we use will be the one from `mosaic`. If, for some reason, we had neglected to load the `mosaic` package, we would be using the original form of the `sample` command, and that would have randomly chosen five *columns* of the dataset, which is not what we want.)

## Summarizing data

We need to be able to summarize variables. The `summary` command is one way to do it:

```{r}
summary(birthwt)
```

Take a look at the output of the previous code chunk in the knit document. We may not have talked about all this in class yet, so you may not recognize terms like "Median" or "1st Quartile" or "3rd Quartile". Nevertheless, you can see why this summary could come in handy.

#### Question: There are only some of the variables for which this summary makes sense. For example, something is weird about taking the mean of the `race` variable. What's wrong? List all the variables for which this summary is inappropriate and explain why it's inappropriate.
<!-- Please write up your answer in the space below -->

### Isolating variables

When we want to look at only one variable at a time, we use the dollar sign to grab it. For example, to summarize only the birth weight of the baby, we can do this:

```{r}
summary(birthwt$bwt)
```

Here's a neat trick. What if I don't want to look at the birth weight in grams. (Quick, how do I know that the birth weight is recorded in grams anyway?)

Google tells me that 1 gram = 0.00220462 pounds. Watch this:

```{r}
summary(birthwt$bwt * 0.00220462)
```

#### Question: Do a little research on Google. What is a typical birth weight for a baby? What is a typical low birth weight and high birth weight? After finding some answers out there on the internet, do you think this sample is representative of the population of all newborn babies? In addition to the numerical evidence, you should also take into account the way the data was collected. (Hint: if you don't know, that means you didn't read the help file on this dataset carefully enough.)
<!-- Please write up your answer in the space below -->

### Summarizing categorical data

Obviously, means, medians, and other numerical summaries of data are not appropriate for categorical data. (Oops, did I just give away the answer to a previous question?)

Instead, we summarize categorical data using tables. We'll get into more detail and more fancy tables in the future. For now, let's just explore the `table` command.

```{r}
table(birthwt$race)
```

#### Summarize the output above in your own words in a full sentence:
<!-- Please write up your answer in the space below -->

Now you try. Run R code to analyze the number of women who smoked during pregnancy. Then write up your findings in a full sentence or two.

```{r}
## Add code here to summarize the number of women who smoked during pregnancy.
```

<!-- Please write up your analysis in the space below -->

## You're done!

When you are satisfied with your R Markdown file and you've filled in the R code and text that was requested, be sure to Knit to PDF and submit your PDF file to the assignment submission area in Canvas.
